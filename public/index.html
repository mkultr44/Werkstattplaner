<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#0b1f2a" />
    <link rel="manifest" href="/manifest.json" />
    <link rel="apple-touch-icon" href="icons/icon-192.png" />
    <title>Werkstattplaner</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div id="app">
      <aside class="clipboard">
        <header>
          <h1>Clipboard</h1>
          <button id="add-clipboard-item" class="ghost-button" type="button">
            + Notiz
          </button>
        </header>
        <div id="clipboard-list" class="clipboard-list"></div>
      </aside>
      <main>
        <header class="main-header">
          <h1 class="view-title">Tagesansicht</h1>
          <div class="date-navigation">
            <button id="prev-day" type="button" aria-label="Vorheriger Tag">‚Äπ</button>
            <div class="date-display">
              <div class="date-label">
                <span id="selected-date-label"></span>
                <button
                  id="calendar-toggle"
                  class="icon-button calendar-toggle"
                  type="button"
                  aria-label="Datum ausw√§hlen"
                  aria-expanded="false"
                >
                  <svg
                    viewBox="0 0 24 24"
                    aria-hidden="true"
                    focusable="false"
                  >
                    <path
                      d="M7 2a1 1 0 0 1 1 1v1h8V3a1 1 0 1 1 2 0v1h1.5A2.5 2.5 0 0 1 22 6.5v13A2.5 2.5 0 0 1 19.5 22h-15A2.5 2.5 0 0 1 2 19.5v-13A2.5 2.5 0 0 1 4.5 4H6V3a1 1 0 0 1 1-1Zm12 7H5v10.5a.5.5 0 0 0 .5.5h15a.5.5 0 0 0 .5-.5V9Z"
                    />
                  </svg>
                </button>
              </div>
              <button id="today-btn" class="ghost-button" type="button">Heute</button>
              <div
                id="calendar-popover"
                class="calendar-popover hidden"
                role="dialog"
                aria-hidden="true"
              ></div>
            </div>
            <button id="next-day" type="button" aria-label="N√§chster Tag">‚Ä∫</button>
          </div>
          <button id="new-job-btn" class="primary-button" type="button">
            + Auftrag anlegen
          </button>
        </header>
        <section id="day-view" class="planner-view"></section>
      </main>
    </div>

    <div id="job-modal" class="modal hidden" role="dialog" aria-modal="true">
      <div class="modal-content">
        <header>
          <h2 id="modal-title">Auftrag anlegen</h2>
          <button class="icon-button" data-close-modal type="button">‚úï</button>
        </header>
        <form id="job-form">
          <section class="form-grid">
            <div class="form-field">
              <label for="job-date">Datum</label>
              <input type="date" id="job-date" name="date" required />
            </div>
            <div class="form-field">
              <label for="job-time">Uhrzeit</label>
              <select id="job-time" name="time">
                <option value="">Ganzt√§gig</option>
              </select>
            </div>
            <div class="form-field">
              <label for="job-category">Arbeitsbereich</label>
              <select id="job-category" name="category" required>
                <option value="routine">Routinearbeiten</option>
                <option value="inspection">T√úV / AU</option>
                <option value="major">Werkstattauftr√§ge</option>
              </select>
            </div>
            <div class="form-field">
              <label for="job-title">Kurzbeschreibung</label>
              <input type="text" id="job-title" name="title" required placeholder="z. B. √ñlwechsel &amp; Filter" />
            </div>
            <div class="form-field">
              <label for="job-customer">Kunde</label>
              <input type="text" id="job-customer" name="customer" required placeholder="Vor- und Nachname" />
            </div>
            <div class="form-field">
              <label for="job-contact">Kontakt</label>
              <input type="text" id="job-contact" name="contact" placeholder="Telefon oder E-Mail" />
            </div>
            <div class="form-field">
              <label for="job-vehicle">Fahrzeug</label>
              <input type="text" id="job-vehicle" name="vehicle" placeholder="Hersteller / Modell" />
            </div>
            <div class="form-field">
              <label for="job-license">Kennzeichen</label>
              <input type="text" id="job-license" name="license" placeholder="z. B. AB-XY 123" />
            </div>
            <div class="form-field span-2 with-action">
              <div class="field-label">
                <label for="job-notes">Beschreibung</label>
                <button id="text-blocks-btn" class="ghost-button small" type="button">
                  Textbausteine
                </button>
              </div>
              <textarea id="job-notes" name="notes" rows="3" placeholder="Zus√§tzliche Details"></textarea>
            </div>
            <div class="form-field span-2 service-flags">
              <span class="label">Zusatzleistungen</span>
              <div class="service-checkboxes">
                <label class="checkbox">
                  <input type="checkbox" id="job-hu-au" name="huAu" value="1" />
                  <span>HU / AU</span>
                </label>
                <label class="checkbox">
                  <input type="checkbox" id="job-car-care" name="carCare" value="1" />
                  <span>Wagenpflege</span>
                </label>
                <label class="checkbox">
                  <input type="checkbox" id="job-storage" name="storage" value="1" />
                  <span>Einlagerung</span>
                </label>
                <label class="checkbox">
                  <input type="checkbox" id="job-rental-car" name="rentalCar" value="1" />
                  <span>Mietwagen</span>
                </label>
              </div>
            </div>
            <div class="form-field span-2">
              <label for="job-files">Dokumente &amp; Bilder</label>
              <input type="file" id="job-files" name="files" multiple />
              <p class="help-text">Unterst√ºtzt Bilder und PDFs. Dateien werden auf dem Server gespeichert und sind sp√§ter abrufbar.</p>
              <div id="file-preview" class="file-preview"></div>
            </div>
          </section>
          <footer class="modal-actions">
            <label class="checkbox">
              <input type="checkbox" id="job-clipboard" name="clipboard" />
              <span>Auch im Clipboard speichern</span>
            </label>
            <div class="spacer"></div>
            <button id="delete-job-btn" class="ghost-button danger hidden" type="button">L√∂schen</button>
            <button class="ghost-button" data-close-modal type="button">Abbrechen</button>
            <button class="primary-button" type="submit">Speichern</button>
          </footer>
        </form>
      </div>
    </div>

    <div id="clipboard-modal" class="modal hidden" role="dialog" aria-modal="true">
      <div class="modal-content">
        <header>
          <h2>Clipboard-Termin</h2>
          <button class="icon-button" data-close-modal type="button">‚úï</button>
        </header>
        <form id="clipboard-form">
          <section class="form-grid">
            <div class="form-field">
              <label for="clipboard-date">Datum</label>
              <input type="date" id="clipboard-date" name="date" required />
            </div>
            <div class="form-field">
              <label for="clipboard-time">Uhrzeit</label>
              <select id="clipboard-time" name="time">
                <option value="">Ganzt√§gig</option>
              </select>
            </div>
            <div class="form-field">
              <label for="clipboard-category">Arbeitsbereich</label>
              <select id="clipboard-category" name="category" required>
                <option value="routine">Routinearbeiten</option>
                <option value="inspection">T√úV / AU</option>
                <option value="major">Werkstattauftr√§ge</option>
              </select>
            </div>
            <div class="form-field">
              <label for="clipboard-title">Kurzbeschreibung</label>
              <input
                type="text"
                id="clipboard-title"
                name="title"
                required
                placeholder="z. B. √ñlwechsel &amp; Filter"
              />
            </div>
            <div class="form-field">
              <label for="clipboard-customer">Kunde</label>
              <input
                type="text"
                id="clipboard-customer"
                name="customer"
                required
                placeholder="Vor- und Nachname"
              />
            </div>
            <div class="form-field">
              <label for="clipboard-contact">Kontakt</label>
              <input
                type="text"
                id="clipboard-contact"
                name="contact"
                placeholder="Telefon oder E-Mail"
              />
            </div>
            <div class="form-field">
              <label for="clipboard-vehicle">Fahrzeug</label>
              <input
                type="text"
                id="clipboard-vehicle"
                name="vehicle"
                placeholder="Hersteller / Modell"
              />
            </div>
            <div class="form-field">
              <label for="clipboard-license">Kennzeichen</label>
              <input
                type="text"
                id="clipboard-license"
                name="license"
                placeholder="z. B. AB-XY 123"
              />
            </div>
            <div class="form-field span-2">
              <label for="clipboard-notes">Beschreibung</label>
              <textarea
                id="clipboard-notes"
                name="notes"
                rows="3"
                placeholder="Zus√§tzliche Details"
              ></textarea>
            </div>
            <div class="form-field span-2 service-flags">
              <span class="label">Zusatzleistungen</span>
              <div class="service-checkboxes">
                <label class="checkbox">
                  <input type="checkbox" id="clipboard-hu-au" name="huAu" value="1" />
                  <span>HU / AU</span>
                </label>
                <label class="checkbox">
                  <input type="checkbox" id="clipboard-car-care" name="carCare" value="1" />
                  <span>Wagenpflege</span>
                </label>
                <label class="checkbox">
                  <input type="checkbox" id="clipboard-storage" name="storage" value="1" />
                  <span>Einlagerung</span>
                </label>
                <label class="checkbox">
                  <input type="checkbox" id="clipboard-rental-car" name="rentalCar" value="1" />
                  <span>Mietwagen</span>
                </label>
              </div>
            </div>
          </section>
          <footer class="modal-actions">
            <div class="spacer"></div>
            <button class="ghost-button" data-close-modal type="button">Abbrechen</button>
            <button class="primary-button" type="submit">Speichern</button>
          </footer>
        </form>
      </div>
    </div>

    <div id="text-block-modal" class="modal hidden" role="dialog" aria-modal="true">
      <div class="modal-content text-block-modal">
        <header>
          <h2>Textbausteine</h2>
          <button class="icon-button" data-close-text-block type="button">‚úï</button>
        </header>
        <div class="text-block-controls">
          <div class="form-field">
            <label for="text-block-search">Schnellzugriff</label>
            <input
              type="text"
              id="text-block-search"
              placeholder="Suchbegriff eingeben"
              autocomplete="off"
            />
          </div>
          <div class="form-field">
            <label for="text-block-category">Kategorie</label>
            <select id="text-block-category"></select>
          </div>
        </div>
        <div id="text-block-list" class="text-block-list" role="list"></div>
        <footer class="modal-actions">
          <div class="spacer"></div>
          <button class="ghost-button" data-close-text-block type="button">Schliessen</button>
        </footer>
      </div>
    </div>

    <button id="trash-button" class="floating-trash-button" type="button" aria-label="Papierkorb √∂ffnen">
      <span class="trash-icon" aria-hidden="true">üóëÔ∏è</span>
      <span id="trash-count-badge" class="trash-count-badge hidden">0</span>
    </button>

    <div id="trash-modal" class="modal hidden" role="dialog" aria-modal="true">
      <div class="modal-content trash-modal-content">
        <header>
          <h2>Papierkorb</h2>
          <button class="icon-button" data-close-trash type="button">‚úï</button>
        </header>
        <div id="trash-list" class="trash-list"></div>
        <footer class="modal-actions">
          <div class="spacer"></div>
          <button class="ghost-button" data-close-trash type="button">Schlie√üen</button>
        </footer>
      </div>
    </div>

    <template id="job-card-template">
      <article class="job-card job-card-compact">
        <div class="job-card-header">
          <div class="job-card-main">
            <div class="job-header-row">
              <span class="job-time-chip"></span>
              <div class="job-meta"></div>
            </div>
            <h3 class="job-title"></h3>
            <p class="job-subline">
              <span class="job-customer"></span>
              <span class="job-subline-bullet">‚Ä¢</span>
              <span class="job-vehicle"></span>
            </p>
          </div>
          <div class="status-toggle" role="button" tabindex="0" aria-label="Status wechseln"></div>
        </div>
        <dl class="job-quick-info">
          <div class="job-quick-info-item">
            <dt>Kunde</dt>
            <dd class="job-customer"></dd>
          </div>
          <div class="job-quick-info-item">
            <dt>Fahrzeug</dt>
            <dd class="job-vehicle"></dd>
          </div>
          <div class="job-quick-info-item">
            <dt>Kontakt</dt>
            <dd class="job-contact"></dd>
          </div>
          <div class="job-quick-info-item">
            <dt>Kennzeichen</dt>
            <dd class="job-license"></dd>
          </div>
        </dl>
        <div class="job-notes-block hidden">
          <span class="label">Notizen</span>
          <p class="job-notes"></p>
        </div>
        <div class="job-services hidden">
          <span class="label">Zusatzleistungen</span>
          <ul class="job-service-list"></ul>
        </div>
        <div class="job-attachments hidden">
          <span class="label">Anh√§nge</span>
          <div class="job-attachment-list"></div>
        </div>
      </article>
    </template>

    <script src="app.js" type="module"></script>
  </body>
</html>
